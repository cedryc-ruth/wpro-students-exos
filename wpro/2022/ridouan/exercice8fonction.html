<meta charset="utf-8">
<script>
//Déclaration de variables, constantes et fonction
var chiffreVente;
var prime;

const PRIME_BAS = 0.02;
const PRIME_MOYEN = 0.05;
const PRIME_HAUT = 0.1;

const SEUIL_BAS = 500;
const SEUIL_HAUT = 1000;

function montantPrime(x){
	if(x<=SEUIL_BAS) {				// de 1 à 500
		return x * PRIME_BAS;
	} else if (x>SEUIL_BAS && x<=SEUIL_HAUT) {		// de 501 à 1000
		return x * PRIME_MOYEN;
	} else {
		return x * PRIME_HAUT;			// plus de 1000
	}
}

do {	
	// Lecture
	do {
		chiffreVente = parseFloat(prompt('Entrez votre chiffre de vente'));
	} while(isNaN(chiffreVente) || chiffreVente<0);

	//Traitement des données
	prime = montantPrime(chiffreVente);
	
	// Affichage
	if(chiffreVente!=0) {
		document.write('<p>La prime accordée est de <b>'+prime.toFixed(2)+'</b> €.</p>');
	} else {
		document.write('<p>Pas de prime!</p>');
	}
} while(confirm('Voulez-vous recommencer?'));
</script>
