<script>
/**
 * Le réseau public de transport en commun souhaite proposer sur son site Web un assistant pour permettre aux usagers 
 * de déterminer le tarif applicable pour un abonnement. En vous basant sur les exemples en bas de document, 
 * vous devez développer cet outil. L’utilisateur pourra encoder son âge, le type d’abonnement (mensuel ou annuel) 
 * et s’il est détenteur d’une carte électronique ou pas (MOBIB).
 *
 * @author Tristan 
 */
 
//Déclaration des variables et constantes 
var abonnementMensuel, abonnementAnnuel, typeAbonnement, age, mobib, abonnement, mois ;
const TARIF_MOIS = 49;

//Lecture des données 
mobib = confirm('Avez-vous une carte electronique MOBIB ?'); 

do {
	age = parseInt(prompt('Quel âge avez-vous ?'));
} while(isNaN(age) && age <= 0);

//Traitement des données
if(age <= 6) {
	document.write('<p>Pas d\'abonnement pour cette catégorie ! Vous pouvez voyager gratuitement mais accompagné.</p>');
} else if(age < 12 && age > 6) {
	document.write('<p>Le tarif est de 0 €.</p>');
	
	if(!mobib) {
		document.write('<p>Vous devez acheter une carte à 5 €.</p>')
	}
} else if(age < 25 && age > 12) {
	document.write('<p>Le tarif est de 12 €.</p>');
} else if(age > 25) {
	do {
		typeAbonnement = prompt('Quel type d\'abonnement ? Tapez "m" pour mensuel ou "a" pour annuel');
	} while(typeAbonnement !== 'a' && typeAbonnement !== 'm');
	
	if(typeAbonnement == 'a') {
		document.write('<p>Le tarif est de 499 €.</p>');

		if(!mobib) {
			document.write('<p>Vous devez acheter une carte de 5 €.</p>');
		}
	} else if (typeAbonnement =='m') {		
		do {
			mois = prompt('Combien de mois ?');
		} while(isNaN(mois) || mois <=0);
		
		abonnement = (!mobib) ? mois * TARIF_MOIS + 5 : mois * TARIF_MOIS;

		document.write('<p>Abonnement mensuel : Nombre de mois : '+mois+' => '+TARIF_MOIS+' * '+mois+' = '+abonnement+'</p>');

		if(!mobib) {
			document.write('<p>Achat carte Mobib : 5.00€</p>');
		}
	}
}
</script>
