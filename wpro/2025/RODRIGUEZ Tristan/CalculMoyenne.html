<script>
/**
 * Créer un programme qui permet de calculer la moyenne d’un élève et 
 * d’afficher un message d’évaluation selon le résultat.
 * L'utilisateur devra entrer le nombres de notes à calculer puis entrer les notes
 * une à une.
 *
 * @author Tristan
 */
 
//Déclaration des variables
var nbNotes, note, typeNote, somme = 0, moyenne, totalNbNotes;
const NOTE_MAX = 20;
const SEUIL_PASSABLE = 0.50;
const SEUIL_BIEN = 0.70;
const SEUIL_EXCELLENT = 0.85;

//Lecture des données
do {
	nbNotes = parseInt(prompt('Combien de notes voulez-vous calculer ?'));
} while(isNaN(nbNotes) || nbNotes <= 0);

for(var i=0;i<nbNotes;i++) {
    do {
		note = parseFloat(prompt('Entrez la note n° '+(i+1)+' compris entre 0 et '+NOTE_MAX+' !'));
	} while(isNaN(note) || note <= 0 || note > NOTE_MAX);
	
	somme += note; //somme = somme + note
}

//Traitement des données
moyenne = somme / nbNotes;

totalNbNotes = nbNotes*NOTE_MAX; //la somme / note maximale 

if(moyenne < NOTE_MAX*SEUIL_PASSABLE) {		//20*50% => 10
	typeNote = 'Recalé';
} else if(moyenne >= NOTE_MAX*SEUIL_PASSABLE && moyenne < NOTE_MAX*SEUIL_BIEN) {	//20*70% => 14
	typeNote = 'Passable';
} else if(moyenne >= NOTE_MAX*SEUIL_BIEN && moyenne < NOTE_MAX*SEUIL_EXCELLENT) {	//20*85% => 17
	typeNote = 'Bien';
} else if(moyenne >= NOTE_MAX*SEUIL_EXCELLENT) {
	typeNote = 'Excellent';
}

//Affichage des données
document.write('<h2>Moyenne générale.</h2>');
document.write('<p>Vous avez entré '+nbNotes+' notes.</p>');
document.write('<p>La somme est de '+somme.toFixed(2)+'/'+totalNbNotes+'.</p>');
document.write('<p>Votre moyenne est de '+moyenne.toFixed(2)+'/20.</p>');
document.write('<p>Evaluation : '+typeNote+'.</p>');
</script>
