<script>
/**
 * 9. Abonnement salle de sport
 * Saisie : nb de mois, type d’abonnement :
 * Basic : 20 €/mois,
 * Premium : 35 €/mois.
 * Option « coaching » (10 €/mois).
 * Si engagement ≥ 12 mois → -20 % sur le total. Afficher la facture détaillée.
 * 
 * @author Tristan
 */
 
 //Déclaration
 var nbMois, typeAbonnement, choixCoaching, reduction;
 var total, montantTotal, montantAvecReduction, montantMois;
 const BASIC = 20;
 const PREMIUM = 35;
 const COACHING = 10;
 const REDUCTION = 0.20;
 
 //Lecture
 nbMois = parseInt(prompt('Combien de mois ?'));
 while(isNaN(nbMois) || nbMois <= 0 || nbMois>12) {
     nbMois = parseInt(prompt('indiquez combien de mois !'));
 }
 
 typeAbonnement = prompt('BASIC(20€/M), PREMIUM(35€/M) ?').toUpperCase();
 while(typeAbonnement !== 'BASIC' && typeAbonnement !== 'PREMIUM') {
     typeAbonnement = prompt('Entrez BASIC ou PREMIUM !').toUpperCase();
 }
 
 choixCoaching = confirm('Voulez-vous un coaching(20€/M).OUI/NON ?');
 
 //Traitement
 if(typeAbonnement === 'BASIC') {
     total = nbMois * BASIC;
 }
 
 if(typeAbonnement === 'PREMIUM') {
     total = nbMois * PREMIUM;
 }
 
 if(choixCoaching) {
     montantTotal = total + (nbMois * COACHING);
 } else {
     montantTotal = total ;
 }
 
 if(nbMois>=12) {
     reduction = montantTotal * REDUCTION;
 } else {
     reduction = 'NON';
 }
 
 montantAvecReduction = montantTotal - reduction;
 montantMois = montantAvecReduction / 12;
 
 //Lecture
 document.write('<h1>Facture détaillée</h1>');
 document.write('<p>Vous voulez souscrire '+nbMois+' mois.</p>');
 document.write('<p>Vous avez choisi l\'abonnement '+typeAbonnement+' .</p>');
 document.write('<p>Choix pour le coaching : '+choixCoaching+' .</p>');
 document.write('<p>Le total est de '+montantTotal.toFixed(2)+' .</p>');
 document.write('<p>Réduction : '+reduction.toFixed(2)+'</p>');
 document.write('<p>Montant total : '+montantAvecReduction.toFixed(2)+'</p>');
 document.write('<p>Montant par mois : '+montantMois.toFixed(2)+'</p>'); 
 </script>
